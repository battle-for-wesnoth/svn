.\" This program is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program; if not, write to the Free Software
.\" Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
.\"
.
.TH WESNOTHD 6 "2007" "wesnothd" "Battle for Wesnoth multiplayer network daemon"
.
.SH NAME
.
wesnothd \- Battle for 
.B Wesnoth 
multiplayer network daemon
.
.SH SYNOPSIS
.
.B wesnothd 
.RB [\| \-dv \|]
.RB [\| \-c
.IR path \|]
.RB [\| \-p
.IR port \|]
.RB [\| \-t
.IR number \|]
.RB [\| \-T
.IR number \|]
.br
.B wesnothd
.B \-V
.
.SH DESCRIPTION
.
Manages Battle for Wesnoth multiplayer games. See http://www.wesnoth.org/wiki/ServerAdministration
on what commands the server accepts via the wesnoth client or the socket.
.
.SH OPTIONS
.
.TP
.BI -c\  path ,\ --config \ path
tells wesnothd where to find the config file to use. See the section 
.B SERVER CONFIG 
below for the syntax. You can reload the config with sending SIGHUP to the server process.
.TP
.B -d, --daemon
runs wesnothd as a daemon.
.TP
.B -h, --help
tells you what the command line options do.
.TP
.BI --log- level = domain1 , domain2 , ...
sets the severity level of the log domains.
.B all
can be used to match                                                                                                          
any log domain. Available levels:
.BR error ,\  warning ,\  info ,\  debug .
By default the
.B error
level is used and the
.B info
level for the
.B server
domain.
.TP
.BI -p\  port ,\ --port \ port
binds the server to the specified port. If no port is specified, port
.B 15000
will be used.
.TP
.BI -t\  number ,\ --threads \ number
sets the maximum number of waiting worker threads for network I/O to n (default: 
.BR 5 ,\ max:\  30 ).
.TP
.BI -T\  number ,\ --max-threads \ number
sets the maximum number of worker threads that will be created.
If set to
.B 0
there will be no limit (default:
.BR 0 ).
.TP
.B -V, --version
shows version number and exits.
.TP
.B -v, --verbose
turns debug logging on.
.
.SH SERVER CONFIG
.
.SS The general syntax is:
.
.P
[\fItag\fR]
.IP
key="\fIvalue\fR"
.IP
key="\fIvalue\fR,\fIvalue\fR,..."
.P
[/\fItag\fR]
.
.SS "Global keys:"
.
.TP
.B connections_allowed
The number of allowed connections from the same IP. (default: \fB5\fR)
.TP
.B disallow_names
Names/nicks that are not accepted by the server. `*' and `?' from wildcard patterns are supported. See 
.BR glob (7) 
for more details.
Default values (used if nothing is specified) are: 
.BR *admin*,*admln*,*server*,ai,ai?,computer,human,network,player .
.TP
.B max_messages
The number of allowed messages in \fBmessages_time_period\fR. (default: \fB4\fR)
.TP
.B messages_time_period
The time period (in seconds) message flooding is detected in. (default: \fB10\fR seconds)
.TP
.B motd
The message of the day.
.TP
.B passwd
The password used to gain admin privileges. Usually it starts with `admin '.
.TP
.B versions_accepted
A comma separated list of version strings to be accepted by the server. `*' and `?' from wildcard patterns are supported.
(defaults to the corresponding wesnoth version)
.br
Example: \fBversions_accepted="*"\fR accepts any version string.
.
.SS "Global tags:"
.
.P
.B [redirect]
A tag to specify a server to redirect certain client versions to.
.RS
.TP
.B host
The address of the server to redirect to.
.TP
.B port
The port to connect to.
.TP
.B version
A comma separated list of versions to redirect. Behaves the same way as
.B versions_accepted
in regard to wildcard patterns.
.RE
.P
.B [proxy]
A tag to tell the server to act as a proxy and forward the connected client's requests to the specified server.
Accepts the same keys as 
.BR [redirect] .
.
.SH AUTHOR
.
Written by David White <davidnwhite@verizon.net>.
Edited by Nils Kneuper <crazy-ivanovic@gmx.net>, ott <ott@gaon.net> and Soliton <soliton.de@gmail.com>.
This manual page was originally written by Cyril Bouthors <cyril@bouthors.org>.
.br
Visit the official homepage: http://www.wesnoth.org/
.
.SH COPYRIGHT
.
Copyright \(co 2003-2007 David White <davidnwhite@verizon.net>
.br
This is Free Software; this software is licensed under the GPL version 2, as published by the Free Software Foundation.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.
.SH SEE ALSO
.
.BR wesnoth (6), 
.BR wesnoth_editor (6)
