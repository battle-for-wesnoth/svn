#textdomain wesnoth-editor
[theme]
    name=null

    [resolution]
        width=1
        height=1
    [/resolution]
[/theme]

[theme]
    name=editor

    # description attributes are not used by the game engine;
    # they're here to enable generating a correct keybing list.
    # The following are canned bindings to be prepended to the list.

    #! Arrow keys=Scroll (if map scrolling is enabled)
    #! Left click=On map: Paint foreground terrain. On right panel: select foreground terrain
    #! Right click=On map: Paint background terrain. On right panel: select background terrain
    #! shift-left click=Mark terrain
    #! shift-alt-left click=Mark connected terrain
    #! ctrl-left click=Select the terrain under the cursor as foreground terrain
    #! ctrl-right click=Select the terrain under the cursor as background terrain
    #! Click and drag marked terrain=Move the marked terrain 

    # Common key definitions
    [hotkey]
        command="zoomin"
        description="Zoom in"
        key="+"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="zoomout"
        description="Zoom out"
        key="-"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="zoomdefault"
        description="Zoom default"
        key="0"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="undo"
        description="Undo"
        key="u"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="redo"
        description="Redo"
        key="r"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="togglegrid"
        description="Toggle hex grid"
        key="g" 
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="mousescroll"
        description="Toggle mouse scrolling"
        key="l"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editsavemap"
        description="Save map"
        key="s"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editsaveas"
        description="Save map as"
        key="s"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=yes
        shift=no
    [/hotkey]

    [hotkey]
        command="editquit"
        description="Quit map editor"
        key="q"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editsetstartpos"
        description="Set the starting position of a player"
        key="t"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editnewmap"
        description="New map"
        key="n"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editloadmap"
        description="Load map from file"
        key="l"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editfloodfill"
        description="Flood fill with selected terrain"
        key="f"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editfillselection"
        description="Flood map selection with selected terrain"
        key="f"
        cmd=no
        alt=yes
        shift=no
    [/hotkey]

    [hotkey]
        command="editrotateselection"
        description="Rotate selected map terrain"
        key="r"
        cmd=no
        alt=no
        shift=yes
    [/hotkey]

    [hotkey]
        command="editcut"
        description="Cut selection from map"
        key="x"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editcopy"
        description="Copy selection from map"
        key="c"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editpaste"
        description="Paste selection to map"
        key="v"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editrevert"
        description="Revert map from file"
        key="r"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="preferences"
        description="Set map preferences"
        key="p"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editresize"
        description="Resize map"
        key="r"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=yes
        shift=no
    [/hotkey]

    [hotkey]
        command="fullscreen"
        description="Toggle fullscreen"
        key="f"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editselectall"
        description="Select entire map"
        key="a"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editflip"
        description="Flip the map"
        key="f"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=yes
        shift=no
    [/hotkey]

    [hotkey]
        command="editdraw"
        description="Set draw mode"
        key="d"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editrefresh"
        description="Refresh map display"
        key="e"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editupdate"
        description="Redraw/update terrain transitions"
        key="b"
        cmd=no
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="editautoupdate"
        description="Delay terrain transitions"
        key="t"
#ifdef APPLE
        cmd=yes
#else
        ctrl=yes
#endif
        alt=no
        shift=no
    [/hotkey]

    [hotkey]
        command="changelanguage"
        description="Change editor language"
        key="l"
        cmd=no
        alt=yes
        shift=no
    [/hotkey]

    [resolution]
        #everywhere in here 1024x768 is seen as basic reference due to some hardcoded values
        id=800x600
        width=800
        height=600

        [screen]
            # this is only useful as a ref for other rects
            id=screen
            rect="0,0,1024,768"
        [/screen]

        # top panel
        [panel]
            id=top-panel
            image=themes/top-bg.png
            ref=screen
            rect="=,=,882,+26"
            xanchor=top
            yanchor=fixed
        [/panel]

        [main_map]
            id=main-map
            rect="=,+0,+882,768"
            xanchor=left
            yanchor=top
        [/main_map]

        # use a more transparent set for the borders than is used ingame
        [main_map_border]
            border_size = 0.5
            background_image = "terrain/off-map/background.png"

            # this image is processed by the terrain matching code so should be
            # in the terrains directory and should ommit the 'terrain/' prefix
            # and the '.png' suffix
            tile_image = "off-map/alpha"

            corner_image_top_left = "terrain/off-map/fade_corner_top_left_editor.png"
            corner_image_bottom_left = "terrain/off-map/fade_corner_bottom_left_editor.png"

            # odd means the corner is on a tile with an odd x value,
            # the tile is the ingame tile not the odd in C++
            corner_image_top_right_odd = "terrain/off-map/fade_corner_top_right_odd_editor.png"
            corner_image_top_right_even = "terrain/off-map/fade_corner_top_right_even_editor.png"

            corner_image_bottom_right_odd = "terrain/off-map/fade_corner_bottom_right_odd_editor.png"
            corner_image_bottom_right_even = "terrain/off-map/fade_corner_bottom_right_even_editor.png"

            border_image_left = "terrain/off-map/fade_border_left_editor.png"
            border_image_right = "terrain/off-map/fade_border_right_editor.png"

            border_image_top_odd = "terrain/off-map/fade_border_top_odd_editor.png"
            border_image_top_even = "terrain/off-map/fade_border_top_even_editor.png"

            border_image_bottom_odd = "terrain/off-map/fade_border_bottom_odd_editor.png"
            border_image_bottom_even = "terrain/off-map/fade_border_bottom_even_editor.png"
        [/main_map_border]

        # rightside panel
        [panel]
            id=top-right-panel
            image=themes/rightside-editor.png
            rect="+0,0,1024,+304"
            xanchor=right
            yanchor=fixed
        [/panel]

        [panel]
            id=middle-right-panel
            image=themes/rightside-bg.png
            rect="=,+0,1024,+464"
            xanchor=right
            yanchor=top
        [/panel]

# ain't working anyway in the way it should, the space can be better used otherwise
#        [panel]
#            id=bottom-right-panel
#            image=themes/rightside-bottom.png
#            rect=882,722,1024,768
#            xanchor=right
#            yanchor=bottom
#        [/panel]

        [menu]
            id=file-menu
            title=_"File"
            image=lite
            items=editnewmap,editloadmap,editsaveas,editsavemap,editrevert,editquit
            ref=top-panel
            rect="=+3,=+1,+100,=-4"
            xanchor=fixed
            yanchor=fixed
        [/menu]
        [menu]
            id=edit-menu
            title=_"Edit"
            image=lite
            items=undo,redo,editcut,editcopy,editpaste,editselectall,editfillselection,editrotateselection,editresize,editflip,editrefresh,editupdate,
            rect="+2,=,+100,="
            xanchor=fixed
            yanchor=fixed
        [/menu]
        [menu]
            id=settings-menu
            title=_"Settings"
            image=lite
            items=changelanguage,preferences,editautoupdate
            rect="+2,=,+100,="
            xanchor=fixed
            yanchor=fixed
        [/menu]

        [panel]
            id=villages-panel
            image=themes/status-bg.png
            ref=settings-menu
            rect="+2,=+1,+65,+19"
            xanchor=fixed
            yanchor=fixed
        [/panel]
        [label]
            id=villages-icon
            icon=themes/villages.png
            text= _ "villages"
            ref=villages-panel
            rect="=+5,=+1,+17,+17"
            xanchor=fixed
            yanchor=fixed
        [/label]

        [mini_map]
            ref=top-right-panel
            rect="=+10,=+7,=-7,+143"
            #rect=892,32,1017,175
            xanchor=right
            yanchor=fixed
        [/mini_map]


        # The toolbar.
        [menu]
            id=draw_button_editor
            image=draw_button_editor
            items=editdraw
            ref=top-right-panel
            #harcoded since the brushes are above, which are hardcoded in src/editor/editor_layout.cpp
            rect="=+27,200,+24,+24"
            xanchor=right
            yanchor=fixed
        [/menu]
        [menu]
            id=flood_button_editor
            image=flood_button_editor
            items=editfloodfill
            rect="+10,=,+24,+24"
            xanchor=right
            yanchor=fixed
        [/menu]
        [menu]
            id=start_position_button_editor
            image=start_position_button_editor
            items=editsetstartpos
            rect="+10,=,+24,+24"
            xanchor=right
            yanchor=fixed
        [/menu]
        [menu]
            id=resize_button_editor
            image=resize_button_editor
            items=editresize
            ref=draw_button_editor
            rect="=,+10,+24,+24"
            xanchor=right
            yachnor=fixed
        [/menu]
        [menu]
            id=flip_map_button_editor
            image=flip_map_button_editor
            items=editflip
            rect="+10,=,+24,+24"
            xanchor=right
            yachnor=fixed
        [/menu]
        [menu]
            id=toggle_grid_button_editor
            image=toggle_grid_button_editor
            items=togglegrid
            rect="+10,=,+24,+24"
            xanchor=right
            yachnor=fixed
        [/menu]
        [menu]
            id=undo_button_editor
            image=undo_button_editor
            items=undo
            ref=resize_button_editor
            rect="=-9,+10,+24,+24"
            xanchor=right
            yachnor=fixed
        [/menu]
        [menu]
            id=redo_button_editor
            image=redo_button_editor
            items=redo
            rect="+4,=,+24,+24"
            xanchor=right
            yachnor=fixed
        [/menu]
        [menu]
            id=zoom_in_button_editor
            image=zoom_in_button_editor
            items=zoomin
            rect="+4,=,+24,+24"
            xanchor=right
            yachnor=fixed
        [/menu]
        [menu]
            id=zoom_out_button_editor
            image=zoom_out_button_editor
            items=zoomout
            rect="+4,=,+24,+24"
            xanchor=right
            yanchor=fixed
        [/menu]


        [status]
            [villages]
                id=villages
                ref=villages-icon
                rect="+2,=+1,+41,+16"
                font_size=12
                xanchor=fixed
                yanchor=fixed
            [/villages]

            [terrain]
                id=status-terrain
                ref=villages-panel
                font_size=12
                rect="+10,=+1,+200,+16"
                xanchor=fixed
                yanchor=fixed
            [/terrain]

            [position]
                id=status-position
                font_size=12
                ref=status-terrain
                rect="822,=,+60,="
                xanchor=right
                yanchor=fixed
            [/position]
            
            #what is this supposed to do? seems to do *nothing* regarding the theme
            #->commenting out
            #[edit_left_button_function]
            #    font_size=10
            #    rect=900,330,1024,345
            #    xanchor=right
            #    yanchor=fixed
            #[/edit_left_button_function]

            #broken since I don't know when, commenting out
            #[selected_terrain]
            #    font_size=10
            #    rect=890,730,1024,20
            #    xanchor=right
            #    yanchor=bottom
            #[/selected_terrain]
        [/status]
    [/resolution]
[/theme]
