###
### Test window to show messages to the user, test version to test with Jetryl's
### new message dialog and Kitty's portraits.
###

[window_definition]
	id = "message_test_left"
	description = "bar"

	[resolution]

		[background]

			[draw]

			[/draw]

		[/background]

		[foreground]

			[draw]

				[image]
					x = 0
					y = "(height - image_height)"
					name = "(portrait_image)"
					vertical_mirror = "(portrait_mirror)"
				[/image]

			[/draw]

		[/foreground]

	[/resolution]

[/window_definition]

[window_definition]
	id = "message_test_right"
	description = "bar"

	[resolution]

		[background]

			[draw]

			[/draw]

		[/background]

		[foreground]

			[draw]

				[image]
					x = "(width - image_width)"
					y = "(height - image_height)"
					name = "(portrait_image)"
					vertical_mirror = "(portrait_mirror)"
				[/image]

			[/draw]

		[/foreground]

	[/resolution]

[/window_definition]


#define BASE_NAME
	"translucent65" #enddef

[panel_definition]
	id = "message_test"
	description = "bar"

	[resolution]

		left_border = 0
		right_border = 0
		top_border = 10
		bottom_border = 13

		[background]

			[draw]

				[image]
					x = 0
					y = 0
					w = "(width)"
					stretch = "true"
					name = "dialogs/" +  {BASE_NAME} + "-border-top.png"
				[/image]

				[image]
					x = 0
					y = "(height - 9)"
					w = "(width)"
					stretch = "true"
					name = "dialogs/" +  {BASE_NAME} + "-border-bottom.png"
				[/image]

				[image]
					x = 0
					y = 5
					w = "(width)"
					h = "(height - 14)"
					name = "dialogs/" +  {BASE_NAME} + "-background.png"
				[/image]

			[/draw]

		[/background]

		[foreground]

			[draw]

			[/draw]

		[/foreground]

	[/resolution]

[/panel_definition]

#undef BASE_NAME

#define RESOLUTION WIDTH HEIGHT IMAGE_WIDTH
	[resolution]
		window_width = {WIDTH}
		window_height = {HEIGHT}

		definition = "message_test_left"

		automatic_placement = "false"

		x = 0
		y = "(screen_height - " + {IMAGE_WIDTH} + ")"
		width = "(screen_width - 142)"
		height = {IMAGE_WIDTH}
		
		[grid]

			[row]

				[column]
					vertical_alignment = "bottom"
					horizontal_grow = "true"

					[panel]
						definition = "message_test"
							
						[grid]

							[row]

								[column]
									horizontal_grow = "true"

									[grid]

										[row]

											[column]

												[spacer]
													# reserve place for the image and set a minimum height for the text
													id = "image_place_holder"

													width = {IMAGE_WIDTH}
													height = 75
												[/spacer]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = "true"

												border = "all"
												border_size = 5
												horizontal_alignment = "left"

												[label]
													id = "message"
													definition = "default"
												[/label]

											[/column]

										[/row]

									[/grid]

								[/column]

							[/row]

						[/grid]

					[/panel]

				[/column]

			[/row]

		[/grid]

	[/resolution]
#enddef
	
[window]
	id = "message_test_left"
	description = "Test dialog to test Jetryl's new message style and Kitty's portraits."

	{RESOLUTION 1000 700 250}
	{RESOLUTION 0 0 500}

[/window]

#undef RESOLUTION

#define RESOLUTION_RIGHT WIDTH HEIGHT IMAGE_WIDTH
	[resolution]
		window_width = {WIDTH}
		window_height = {HEIGHT}

		definition = "message_test_right"

		automatic_placement = "false"

		x = 0
		y = "(screen_height - " + {IMAGE_WIDTH} + ")"
		width = "(screen_width - 142)"
		height = {IMAGE_WIDTH}
		
		[grid]

			[row]

				[column]
					vertical_alignment = "bottom"
					horizontal_grow = "true"

					[panel]
						definition = "message_test"
							
						[grid]

							[row]

								[column]
									horizontal_grow = "true"

									[grid]

										[row]

											[column]
												grow_factor = 1
												horizontal_grow = "true"

												border = "all"
												border_size = 5
												horizontal_alignment = "left"

												[label]
													id = "message"
													definition = "default"
												[/label]

											[/column]

											[column]

												[spacer]
													# reserve place for the image and set a minimum height for the text
													id = "image_place_holder"

													width = {IMAGE_WIDTH}
													height = 75
												[/spacer]

											[/column]

										[/row]

									[/grid]

								[/column]

							[/row]

						[/grid]

					[/panel]

				[/column]

			[/row]

		[/grid]

	[/resolution]
#enddef

[window]
	id = "message_test_right"
	description = "Test dialog to test Jetryl's new message style and Kitty's portraits."
	{RESOLUTION_RIGHT 1000 700 250}
	{RESOLUTION_RIGHT 0 0 500}

[/window]

#undef RESOLUTION_RIGHT
