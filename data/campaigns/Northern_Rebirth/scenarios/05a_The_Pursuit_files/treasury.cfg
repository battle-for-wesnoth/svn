#textdomain wesnoth-nr

# 2 - Treasury - Signpost
# Signpost event, there is nothing like pure greed ;)
    [event]
        name=moveto
        [filter]
            side=1
            x=15
            y=29
        [/filter]

        [message]
            speaker=narrator
            message= _ "The Treasury"
            image=scenery/signpost.png
        [/message]
        [message]
            speaker=unit
            message= _ "The Treasury! Cool, let's go loot some booty!"
        [/message]
        [allow_undo][/allow_undo]
    [/event]
	
# 2a - Alarm
# If alarm wasn't raised yet raise it on first sight of treasury guard. It should probably work the other way around but I promised
# not to alter scenario behaviour. To much at least.
    [event]
        name=sighted

        [filter]
            role=Treasury Guard
        [/filter]

        [if]
            [variable]
                name=treasury_alerted
                equals=no
            [/variable]
            [then]
                [message]
                    role=Treasury Guard
                    message= _ "Intruders! Get them!"
                [/message]
                [message]
                    role=Supporter
                    message= _ "Bring it on!"
                [/message]
			# Add 100,200,350,500 gold to treasury guards. See dungeon alarm in prison.cfg for more detailed explanation of behaviour
                [gold]
                    side=6
                    amount=100
                [/gold]
                [gold]
                    side=7
                    amount=100
                [/gold]
				#ifndef NEWBIE
					[gold]
						side=6
						amount=100
					[/gold]
					[gold]
						side=7
						amount=100
					[/gold]
					#ifndef EASY
						[gold]
							side=6
							amount=150
						[/gold]
						[gold]
							side=7
							amount=150
						[/gold]
						#ifndef NORMAL
							[gold]
								side=6
								amount=150
							[/gold]
							[gold]
								side=7
								amount=150
							[/gold]
						#endif
					#endif
				#endif
			# Set the flag
				{VARIABLE treasury_alerted yes}
            [/then]
        [/if]
    [/event]

# 2b - Gold chests
# And the main feature of this room. Gold. Each event gives a determined amount of gold and removes a chest.	
    [event]
        name=moveto
        [filter]
            x=17
            y=22
            side=1
        [/filter]
        
		[message]
            speaker=unit
            message= _ "Wow! There is at least 1000 gold in here!"
        [/message]
        [gold]
            side=1
            amount=1025
        [/gold]
        [removeitem]
            x=17
            y=22
        [/removeitem]
    [/event]

    [event]
        name=moveto
        [filter]
            x=17
            y=20
            side=1
        [/filter]

        [message]
            speaker=unit
            message= _ "Holy Gods of Light! 500 gold!"
        [/message]
        [gold]
            side=1
            amount=505
        [/gold]
        [removeitem]
            x=17
            y=20
        [/removeitem]
    [/event]

    [event]
        name=moveto
        [filter]
            x=6
            y=22
            side=1
        [/filter]

        [message]
            speaker=unit
            message= _ "800 gold! We're rich!!!"
        [/message]
        [gold]
            side=1
            amount=800
        [/gold]
        [removeitem]
            x=6
            y=22
        [/removeitem]
    [/event]

    [event]
        name=moveto
        [filter]
            x=5
            y=20
            side=1
        [/filter]

        [message]
            speaker=unit
            message= _ "What a hoard! 2 000 gold!"
        [/message]
        [gold]
            side=1
            amount=2000
        [/gold]
        [removeitem]
            x=5
            y=20
        [/removeitem]
    [/event]

    [event]
        name=moveto
        [filter]
            x=6
            y=16
            side=1
        [/filter]

        [message]
            speaker=unit
            message= _ "500 gold! Not bad!"
        [/message]
        [gold]
            side=1
            amount=510
        [/gold]
        [removeitem]
            x=6
            y=16
        [/removeitem]
    [/event]

    [event]
        name=moveto
        [filter]
            x=9
            y=15
            side=1
        [/filter]

        [message]
            speaker=unit
            message= _ "10,000 gold! Wow! Where is that bag of bones getting all this?"
        [/message]
        [gold]
            side=1
            amount=10151
        [/gold]
        [removeitem]
            x=9
            y=15
        [/removeitem]
    [/event]
