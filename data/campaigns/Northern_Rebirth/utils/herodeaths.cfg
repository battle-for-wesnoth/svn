#textdomain wesnoth-nr
## Common code for hero deaths.

[event]
    name=die
    [filter]
        id=Krash
    [/filter]
    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]

	{VARIABLE Krash_alive no}
    [message]
        speaker=Krash
        message= _ " *roars in pain*"
    [/message]
    [message]
        speaker=Tallin
        message= _ "Krash!"
    [/message]
    [message]
        speaker=Father Marcus
        message= _ "It's no good, Tallin, he is gone."
    [/message]
    [message]
        speaker=Tallin
        message= _ "You wretched monsters! You are going to pay for this!"
    [/message]
    [message]
        speaker=Camerin
        message= _ "Awww, I liked that guy!"
    [/message]
[/event]

[event]
    name=die
    [filter]
        id="Ro'Sothian"
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
    [message]
        speaker="Ro'Sothian"
        message= _ "I have had enough! Come on brother, let's get outta here."
    [/message]
    {FLASH}
    [message]
        speaker=Tallin
        message= _ "Dang it! They're gone, and the creatures they control are leaving too. Without them, this is hopeless."
    [/message]
    [endlevel]
        result=defeat
    [/endlevel]
[/event]

[event]
    name=die
    [filter]
        id="Ro'Arthian"
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
    [message]
        speaker="Ro'Arthian"
        message= _ "I have had enough! Come on brother, let's get outta here."
    [/message]
    {FLASH}
    [message]
        speaker=Tallin
        message= _ "Dang it! They're gone, and the creatures they control are leaving too. Without them this is hopeless."
    [/message]
    [endlevel]
        result=defeat
    [/endlevel]
[/event]

[event]
    name=die
    [filter]
        id=Stalrag
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
    [message]
        speaker=Stalrag
        message= _ "Farewell, my friends. I now go to join my fallen brothers."
    [/message]
    [role]
        type=Dwarvish Berserker,Dwarvish Ulfsurker
        role=Shinsplitter
    [/role]
    [recall]
        role=Shinsplitter
    [/recall]
    [message]
        role=Shinsplitter
        message= _ "No, Stalrag! Without you what will become of the Shinsplitters?"
    [/message]
    [message]
        speaker=Stalrag
        message= _ "Shinsplitters... join Tallin.... He is your new.... leader.... trust..... and..... serve..... him.... as.... you...... have.....served....me."
    [/message]
    [message]
        speaker=Tallin
        message= _ "Your death shall not go unavenged, brave Stalrag. DEATH TO THE ORCS!!!"
    [/message]
    [message]
        role=Shinsplitter
        message= _ "DIE, YOU FOUL SCUM!!!"
    [/message]
[/event]

[event]
    name=die
    [filter]
        id=Tallin
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
    [message]
        speaker=Tallin
        message= _ "Argh! I am finished, but our campaign must... not end... crush..... our..... enemies ..... and ..... save..... our...... people......."
    [/message]
    [message]
        role=Supporter
        message= _ "No, Tallin, we can't do it without you!"
    [/message]
    [endlevel]
        result=defeat
    [/endlevel]
[/event]

[event]
    name=die
    [filter]
        id=Anita
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
    [message]
        speaker=Anita
        message= _ "Alas, you must continue your mission without me!"
    [/message]
    [if]
        [have_unit]
            id=Elenia
        [/have_unit]
        [then]
            [message]
                speaker=Elenia
                message= _ "Anita, no! Please don't die!"
            [/message]
            [message]
                speaker=Tallin
                message= _ "I am sorry, Elenia, we tried our best. *sigh* I will never forget you, Anita."
            [/message]
        [/then]
        [else]
            [message]
                speaker=Tallin
                message= _ "You wretches are going to pay for this! FORWARD, MEN!"
            [/message]
        [/else]
    [/if]
	{VARIABLE Anita_alive no}
[/event]

[event]
    name=die
    first_time_only=no
    [filter]
        id=Sister Theta
    [/filter]
    {RANDOM 1,2,3,4,5,6,7}

    [if]
        [variable]
            name=random
            equals=1
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "Ahhhh! Save me, my husband!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ " *rolls eyes* Dramatic as always."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=2
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "Ahhhhhhh!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "You monsters think you are so tough don't you? Well check this out."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=3
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "Ahhhhhhh!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "You incompetent fools, you think you can kill us? Good luck!"
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=4
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "Ack! Stupid slobbering beast!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Your efforts to destroy us are in vain, you foul creature."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=5
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "Oh no, Marcus! We have failed in our mission to help Tallin!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Failed? Never! The word failure is not in our dictionary."
			[/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=6
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "Alas! I am dying! Marcus darling, I wish you were beside me so that I may die in your arms! So that I may feel the kiss of your lips on mine one last time!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ " *rolls eyes* Theta, do you always have to be so dramatic?"
            [/message]
            [message]
                role=Supporter
                message= _ "Um..... Father? Your wife just got killed..."
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Oh right. I CALL UPON THE LORDS OF LIGHT TO GRANT YOU LIFE!"
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=7
        [/variable]
        [then]
            [message]
                speaker=Sister Theta
                message= _ "You cruel creature! How dare you use your brute strength against such a frail creature as me."
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Don't worry, Theta, you will have plenty of opportunities to set him straight."
            [/message]
		[/then]
	[/if]
	{FLASH}
	{VARIABLE current_radius 1}
	[while]
		[variable]
			name=respawn_point.length
			equals=0
		[/variable]
		[do]
			[store_locations]
				variable=respawn_point
				[and]	
					[filter]
						id=Father Marcus
					[/filter]
					radius=$current_radius
				[/and]
				[and]
					[not]
						[filter]
						[/filter]
					[/not]
					[not]
						terrain=Xu,Qxu,Ql,Qlf,Wo,Mm^Xm,Md^Xm,Xv
					[/not]
				[/and]
			[/store_locations]
			{VARIABLE_OP current_radius add 1}
		[/do]
	[/while]
#	[store_starting_location]
#		side=1
#		variable=respawn_point
#	[/store_starting_location]
	[store_unit]
		[filter]
			id=Sister Theta
		[/filter]
		variable=type_check
		kill=yes
		fire_event=no
	[/store_unit]
    [unit]
        type=$type_check.type
        gender=female
        id=Sister Theta
        name= _ "Sister Theta"
        profile=portraits/Sister_Theta.jpg
        side=1
        x=$respawn_point.x
        y=$respawn_point.y
        [modifications]
            {TRAIT_LOYAL}
            {TRAIT_QUICK}
        [/modifications]
    [/unit]
	{CLEAR_VARIABLE respawn_point}
	{CLEAR_VARIABLE type_check}
	{CLEAR_VARIABLE current_radius}
	[if]
		[variable]
			name=random
			equals=1
		[/variable]
		[then]
            [message]
                speaker=Father Marcus
                message= _ "Theta, when this is all over, you should paint your face and join a theater."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Hey, don't you always say that life is nothing but a drama?"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Yes, it may be a drama, but that's no excuse for overacting!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ " *giggle* Who needs an excuse for overacting?"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=2
		[/variable]
		[then]
			[message]
                speaker=Sister Theta
                message= _ "Woha! That trick is a bit hard on the constitution."
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Well, be grateful that you are alive."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ " *giggle* Thank you honey."
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Thank the lords of light, not me!"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=3
		[/variable]
		[then]
            [message]
                speaker=Sister Theta
                message= _ "Ouch! That hurt. Let's try not to do that again, OK?"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=4
		[/variable]
		[then]
            [message]
                speaker=Sister Theta
                message= _ "There we go, payback time!"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=5
		[/variable]
		[then]
			[message]
                speaker=Sister Theta
                message= _ "There we go, let's give this one more shot!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Just try not to kill yourself again."
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=6
		[/variable]
		[then]
			[message]
                speaker=Father Marcus
                message= _ "Theta, you should know by now that it is very unclerical to make such a spectacle of yourself."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Come on, honey! Those were my dying words, after all!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ " *rolls eyes* Women!"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=7
		[/variable]
		[then]
			[message]
                speaker=Sister Theta
                message= _ "That's darned right!"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Theta! Language like that coming from you! You should really stop hanging around the dwarves so much."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ " *giggle* Sorry."
            [/message]
        [/then]
    [/if]
[/event]

[event]
    name=die
    first_time_only=no
    [filter]
        id=Father Marcus
    [/filter]

    {RANDOM 1,2,3,4,5,6,7}
    [if]
        [variable]
            name=random
            equals=1
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "Alas! So.... close."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Hey, that's not right. The good guys aren't supposed to die. Oh well, I'll fix that."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=2
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "Argh!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "You incompetent fools, you think you can kill us? Good luck!"
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=3
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "Argh!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Oh dear. Did you just go and get yourself killed again, Marcus? Well, I'll fix that."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=4
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "The forces of good can never be defeated by the likes of you!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Yeah, try taking a bath and you MIGHT be able to kill him for good *wink wink*. But for the time being, abracadabra!"
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=5
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "Argh!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Stupid troll, maybe next time you should try killing someone who can be killed."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=6
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "Argh! I'll just come back and finish you in my next life."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Which might be sooner then you think."
            [/message]
		[/then]
	[/if]
    [if]
        [variable]
            name=random
            equals=7
        [/variable]
        [then]
            [message]
                speaker=Father Marcus
                message= _ "Ack! I have been brained!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Eeeeww! Gross! Ahh never mind, I'll get you cleaned up good."
            [/message]
		[/then]
	[/if]
	{VARIABLE current_radius 1}
	[while]
		[variable]
			name=respawn_point.length
			equals=0
		[/variable]
		[do]
			[store_locations]
				variable=respawn_point
				[and]
					[filter]
						id=Sister Theta
					[/filter]
					radius=$current_radius
				[/and]
				[and]
					[not]
						[filter]
						[/filter]
					[/not]
					[not]
						terrain=Xu,Qxu,Ql,Qlf,Wo,Mm^Xm,Md^Xm,Xv
					[/not]
				[/and]
			[/store_locations]
			{VARIABLE_OP current_radius add 1}
		[/do]
	[/while]
#	[store_starting_location]
#		side=1
#		variable=respawns_at
#	[/store_starting_location]
	[store_unit]
		[filter]
			id=Father Marcus
		[/filter]
		variable=type_check
		kill=yes
		fire_event=no
	[/store_unit]
	{FLASH}
    [unit]
        type=$type_check.type
		id=Father Marcus
		name= _ "Father Marcus"
		profile=portraits/Father_Marcus.jpg
		side=1
		x=$respawn_point.x
		y=$respawn_point.y
		[modifications]
            {TRAIT_LOYAL}
            {TRAIT_RESILIENT}
        [/modifications]
    [/unit]
	{CLEAR_VARIABLE type_check}
	{CLEAR_VARIABLE respawn_point}
	{CLEAR_VARIABLE current_radius}
	[if]
		[variable]
			name=random
			equals=1
		[/variable]
		[then]
            [message]
                speaker=Sister Theta
                message= _ "There we go."
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Ahh yes, that's better."
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=2
		[/variable]
		[then]
            [message]
                speaker=Father Marcus
                message= _ "Ouch! That hurt. Let's try not to do that again ok?"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=3
		[/variable]
		[then]
            [message]
                speaker=Sister Theta
                message= _ "Marcus! You bad boy, always getting into trouble."
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Sorry, won't do it again. Promise!"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=4
		[/variable]
		[then]
            [message]
                speaker=Father Marcus
                message= _ "I heard that, Theta."
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Hey, just trying to give him an incentive to drown himself."
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=6
		[/variable]
		[then]
            [message]
                speaker=Sister Theta
                message= _ "See?"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Now where did he go!?"
            [/message]
        [/then]
    [/if]
	[if]
		[variable]
			name=random
			equals=7
		[/variable]
		[then]
            [message]
                speaker=Father Marcus
                message= _ "Ahhh, Theta, you would make such a good housewife!"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ "Yes, if you would ever buy me a house! *pouty face*"
            [/message]
            [message]
                speaker=Father Marcus
                message= _ "Geez Theta, don't you think that this isn't really a good time to talk about that?"
            [/message]
            [message]
                speaker=Sister Theta
                message= _ " *giggle* Sorry!"
            [/message]
        [/then]
    [/if]
[/event]

[event]
    name=die
    [filter]
        id=Elenia
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
	{VARIABLE Elenia_alive no}
    [message]
        speaker=Elenia
        message= _ " Alas! My wanderings have come to an end."
    [/message]
    [message]
        speaker=Tallin
        message= _ "Blast it, we have lost a valuable ally."
    [/message]
    [message]
        speaker=Sister Theta
        message= _ "Farewell Elenia. May you find peace in your final journey."
    [/message]
[/event]

[event]
    name=die
    [filter]
        id=Camerin
    [/filter]

    [music]
        name=nr-sad.ogg
        play_once=yes
    [/music]
    [message]
        speaker=Camerin
        message= _ " Wha... how can this happen?"
    [/message]
    [message]
        speaker=Tallin
        message= _ "He was stark raving mad, but I am sure going to miss him."
    [/message]
[/event]

#ifdef DEFEAT_WHEN_HAMEL_DEAD
    [event]
        name=die
        [filter]
            id=Hamel
        [/filter]

        [message]
            speaker=Tallin
            message= _ "No! Without the dwarvish weapons we have no hope!"
        [/message]
        [endlevel]
            result=defeat
        [/endlevel]
    [/event]
#endif

[event]
	name=die
	[filter]
		[wml_filter]
			[variables]
				role=Supporter
			[/variables]
		[/wml_filter]
	[/filter]
	
	[store_unit]
		[filter]
			race=Human
			alignment=lawful
			[not]
				id=Camerin
			[/not]
			[not]
				id=Tallin
			[/not]
			[not]
				usage=healer
			[/not]
			[not]
				role=Supporter
			[/not]
			role=Supporter
		[/filter]
		kill=no
		variable=new_supporter
	[/store_unit]
	{VARIABLE new_supporter.variables.role Supporter}
	[unstore_unit]
		variable=new_supporter
	[/unstore_unit]
	{CLEAR_VARIABLE new_supporter}
[/event]
