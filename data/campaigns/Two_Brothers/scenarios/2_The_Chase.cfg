0#textdomain wesnoth-tb
[scenario]
    id=2_The_Chase
    name= _ "The Chase"
    map_data="{campaigns/Two_Brothers/maps/2_The_Chase.map}"
    next_scenario=3_Guarded_Castle
#ifdef EASY
    turns=28
#endif
#ifdef HARD
    turns=24
#endif
    victory_when_enemies_defeated=no

    [story]
        [part]
            music=frantic.ogg
            story=_ "The pursuit had already run for several days when the kidnappers came to the bounds of the huge forest known as the Gray Woods. Ancient tales warned of lost souls haunting the wood, hunting and killing anyone brave enough to enter it."
            show_title=yes
            {TO_THE_CHASE}
        [/part]
        [part]
            story=_ "Heedless of those rumors, Arne followed them. His only worry was that his horsemen would be at disadvantage if attacked in the forest."
            background=story/Two_Brothers_M2P1.png
        [/part]
    [/story]

    [music]
        name=elf-land.ogg
        ms_before=500
        append=no
    [/music]
    [music]
        name=knolls.ogg
        ms_before=500
        append=yes
    [/music]
    [music]
        name=wanderer.ogg
        ms_before=500
        append=yes
    [/music]
    [music]
        name=legends_of_the_north.ogg
        ms_before=500
        append=yes
    [/music]
    [music]
        name=vengeful.ogg
        ms_before=500
        append=yes
    [/music]

    {DUSK}
    {FIRST_WATCH}
    {SECOND_WATCH}
    {DAWN}
    {MORNING}
    {AFTERNOON}

    [event]
#ifdef EASY
        [terrain]
            x=10
            y=44
            terrain=Gg^Vh
        [/terrain]
        [terrain]
            x=13
            y=42
            terrain=Gg^Vh
        [/terrain]
        [terrain]
            x=10
            y=26
            terrain=Gg^Vh
        [/terrain]
        [terrain]
            x=3
            y=34
            terrain=Gg^Vh
        [/terrain]
#endif
        name=prestart
        [objectives]
            side=1
            [objective]
                description= _ "Fight your way through the woods before the kidnappers escape"
                condition=win
            [/objective]
            [objective]
                description= _ "Death of Arne"
                condition=lose
            [/objective]
            [objective]
                description= _ "Turns run out"
                condition=lose
            [/objective]
        [/objectives]
        [remove_shroud]
            side=1
            x=0-20
            y=15-54
        [/remove_shroud]
        
        [music]
            name=elf-land.ogg
            ms_before=500
            append=no
        [/music]
        [music]
            name=knolls.ogg
            ms_before=500
            append=yes
        [/music]
        [music]
            name=wanderer.ogg
            ms_before=500
            append=yes
        [/music]
        [music]
            name=legends_of_the_north.ogg
            ms_before=500
            append=yes
        [/music]
        [music]
            name=vengeful.ogg
            ms_before=500
            append=yes
        [/music]
        
    [/event]

    {PLACE_IMAGE scenery/signpost.png 10 1}

    [side]
#ifdef EASY
        gold=180
        income=10
#endif
#ifdef HARD
        gold=120
#endif
        type=Knight
        id=Arne
        name= _ "Arne"
        unrenamable=yes
        side=1
        canrecruit=yes
        controller=human
        recruit=Horseman,Bowman,Spearman,Footpad
        team_name=good
        user_team_name=_"Humans"
        shroud=yes
    [/side]

    {STARTING_VILLAGES 1 7}

    [side]
#ifdef EASY
        gold=25
#endif
#ifdef HARD
        gold=60
#endif
        type=Elvish Rider
        id=Nil-Galion
        name= _ "Nil-Galion"
        unrenamable=yes
        side=2
        canrecruit=yes
        recruit=Elvish Scout
        income=-8
        team_name=elves
        user_team_name=_"Elves"
        [ai]
            recruitment_pattern=scout
        [/ai]

        [unit]
            side=2
            type=Elvish Scout
            x=15
            y=20
        [/unit]
        [unit]
            side=2
            type=Elvish Fighter
            x=5
            y=13
        [/unit]
        [unit]
            side=2
            type=Elvish Scout
            x=4
            y=36
        [/unit]
        [unit]
            side=2
            type=Elvish Scout
            x=7
            y=46
        [/unit]
        [unit]
            side=2
            type=Elvish Scout
            x=15
            y=35
        [/unit]
#ifdef HARD
        [unit]
            side=2
            type=Elvish Scout
            x=7
            y=25
        [/unit]
        [unit]
            side=2
            type=Elvish Scout
            x=10
            y=33
        [/unit]
        [unit]
            side=2
            type=Elvish Hero
            x=11
            y=45
        [/unit]
        [unit]
            side=2
            type=Elvish Rider
            x=15
            y=23
        [/unit]
        [unit]
            side=2
            type=Wose
            x=7
            y=29
        [/unit]
#endif
    [/side]

#ifdef EASY
    {STARTING_VILLAGES 2 17}
#endif
#ifdef HARD
    {STARTING_VILLAGES 2 30}
#endif

    [event]
        name=start

        #{SCATTER_IMAGE (terrain=Gs^Fp) 24 scenery/pine2.png}

        [role]
            type=Horseman
            role=speaker
        [/role]
        [recall]
            role=speaker
        [/recall]

        [message]
            speaker=narrator
            image="wesnoth-icon.png"
            message= _ "Sounds of a scuffle were heard from the forest."
        [/message]
        [message]
            speaker=Arne
            message= _ "Come on, men. A stroll through such lovely green woods, what could be finer?"
        [/message]
        [message]
            role=speaker
            message= _ "It is whispered that hungry ghosts rule this forest, and kill everyone who dares to enter."
        [/message]
        [message]
            speaker=Nil-Galion
            message= _ "You there! Halt and explain yourself."
        [/message]
        [message]
            speaker=Arne
            message= _ "We're chasing after some men who kidnapped my brother!"
        [/message]
        [message]
            speaker=Nil-Galion
            message= _ "Those men told me their prisoner had attempted to murder their master, and warned that evil men would follow him. Advance no further, or you will die."
        [/message]
        [message]
            speaker=Arne
            message= _ "So much for those ghost stories. Mere elves will not stop me from freeing my brother!"
        [/message]
        [message]
            role=speaker
            message= _ "I am glad at least that we will not have to face ghosts. But those elves will have us at a disadvantage; our horses will not maneuver well in the trees."
        [/message]
        [message]
            speaker=Arne
            message= _ "Bah, just stay on the paths; our spearmen and bowmen can fight in the deeper woods. We have faced and won through greater perils than those amateurs can offer."
        [/message]
    [/event]

    [event]
        name=moveto
        [filter]
            side=1
            x=1-19
            y=1-12
        [/filter]

        [unit]
            type=Dark Adept
            id=Muff Toras
            name= _ "Muff Toras"
            {IS_HERO}
            unrenamable=yes
            x=9
            y=4
            ai_special=guardian
            side=2
        [/unit]
#ifdef EASY
        [unit]
            type=Skeleton
            x=9
            y=5
            ai_special=guardian
            side=2
        [/unit]
        [unit]
            type=Skeleton
            x=9
            y=3
            ai_special=guardian
            side=2
        [/unit]
#endif
#ifdef HARD
        [unit]
            type=Revenant
            x=9
            y=5
            ai_special=guardian
            side=2
        [/unit]
        [unit]
            type=Revenant
            x=9
            y=3
            ai_special=guardian
            side=2
        [/unit]
#endif
        [remove_shroud]
            side=1
            x=0-20
            y=0-15
        [/remove_shroud]

        [message]
            speaker=unit
            message= _ "I see them! There they are!"
        [/message]
        [message]
            speaker=Muff Toras
            message= _ "Curses! If they had been an hour slower our master's reinforcements would already be here to meet us."
        [/message]
        [objectives]
            side=1
            [objective]
                description= _ "Kill the Dark Adept before his reinforcements arrive"
                condition=win
            [/objective]
            [objective]
                description= _ "Death of Arne"
                condition=lose
            [/objective]
            [objective]
                description= _ "Turns run out"
                condition=lose
            [/objective]
        [/objectives]
    [/event]

    [event]
        name=turn 12
        [message]
            speaker=Arne
            message= _ "Come on, men, let's catch those kidnappers!"
        [/message]
    [/event]

    [event]
        name=die
        [filter]
            id=Muff Toras
        [/filter]
        [message]
            speaker=unit
            message= _ "Hah! You have captured me, but it will avail you nothing. I sent your precious brother the mage north with half my men a day since; he will be safely locked away in our master's dungeons by now."
        [/message]
        [message]
            speaker=Arne
            message= _ "My blade is at your throat. Give us the way to my brother now, or I will spill your wretched blood on the ground."
        [/message]

        {VARIABLE first_password_1 _"Sithrak"}
        {VARIABLE first_password_2 _"Eleben"}
        {VARIABLE first_password_3 _"Jarlom"}
        {VARIABLE first_password_4 _"Hamik"}
        {VARIABLE_OP first_password_number random "1..4"}

        {VARIABLE second_password_1 _"Akranbral"}
        {VARIABLE second_password_2 _"Drakanal"}
        {VARIABLE second_password_3 _"Xaskanat"}
        {VARIABLE second_password_4 _"Katklagad"}
        {VARIABLE_OP second_password_number random "1..4"}

        [message]
            speaker=unit
            message= _ "Three days ride to the northeast, in a deserted castle. The passwords to the guards are $first_password_$first_password_number and $second_password_$second_password_number|."
        [/message]
        [message]
            speaker=Arne
            message= _ "Bind him and take him with us. If he has played us false, he will die."
        [/message]

#ifdef EASY
        [move_unit_fake]
            type=Iron Mauler
            side=1
            x=1,1,3,4,8
            y=6,4,3,3,1
        [/move_unit_fake]
        [unit]
            id=Brena
            name= _ "Brena"
            type=Iron Mauler
            side=1
            [modifications]
                {TRAIT_STRONG}
                {TRAIT_LOYAL}
            [/modifications]
            x=8
            y=1
        [/unit]
        [message]
            speaker=Brena
            message= _ "Greetings. I am Brena, a knight errant. I saw you pursuing and fighting the foul undead. Are there more of them to be destroyed?"
        [/message]
        [message]
            speaker=Arne
            message= _ "Aye. We think there's a nest of them north-east of here. They've captured my brother."
        [/message]
        [message]
            speaker=Brena
            message= _ "I bear a great hatred towards their kind. I will follow and fight them with you, if you permit."
        [/message]
        [message]
            type=Horseman
            message= _ "He would only slow us down!"
        [/message]
        [message]
            speaker=Arne
            message= _ "It is my place to decide this."
            [option]
                message= _ "Oh, all right then. Come along with us."
                [command]
                    [message]
                        speaker=Brena
                        message= _ "Thank you. My comrades and I will help you on your noble quest."
                    [/message]
                    [allow_recruit]
                        type=Heavy Infantryman
                    [/allow_recruit]
                [/command]
            [/option]
            [option]
                message= _ "I am sorry. We have not the time to spare."
                [command]
                    [message]
                        speaker=Brena
                        message= _ "Take this, then, for I see that you are on a quest. My comrades will help you whenever you call for them."
                    [/message]
                    [allow_recruit]
                        type=Heavy Infantryman
                    [/allow_recruit]
                    [kill]
                        id=Brena
                    [/kill]
                    [kill]
                        type=Iron Mauler
                    [/kill]
                    [sound]
                        name=gold.ogg
                    [/sound]
                    [message]
                        speaker=narrator
                        image="wesnoth-icon.png"
                        message= _ "You receive 70 pieces of gold!"
                    [/message]
                    [gold]
                        side=1
                        amount=70
                    [/gold]
                [/command]
            [/option]
        [/message]
#endif
        [endlevel]
            result=victory
            bonus=yes
        [/endlevel]
    [/event]

    [event]
        name=time over
        [message]
            speaker=Muff Toras
            message= _ "My reinforcements are here!"
        [/message]
        [message]
            speaker=Arne
            message= _ "He escaped us..."
        [/message]
    [/event]

    [event]
        name=die
        [filter]
            id=Nil-Galion
        [/filter]
        [message]
            speaker=Nil-Galion
            message= _ "Foolish human, you have killed me but you will not catch the undead in time. I have fulfilled my contract, and will be reanimated soon to become a lord of their armies."
        [/message]
        [message]
            speaker=Arne
            message= _ "Follow their back trail!"
        [/message]
        [objectives]
            side=1
            [objective]
                description= _ "Catch the kidnappers"
                condition=win
            [/objective]
            [objective]
                description= _ "Death of Arne"
                condition=lose
            [/objective]
            [objective]
                description= _ "Turns run out"
                condition=lose
            [/objective]
        [/objectives]
    [/event]

    [event]
        name=die
        [filter]
            id=Arne
        [/filter]
        [message]
            speaker=Arne
            message= _ "All is lost now that I am dead..."
        [/message]
        [endlevel]
            result=defeat
        [/endlevel]
    [/event]
[/scenario]
