# The file contains useful macros I use within the campaign

#create a loop that runs X times
#define LOOP VAR
[set_variable]
name={VAR}
multiply=-1
[/set_variable]

[while]
	[variable]
	name={VAR}
	less_than=0
	[/variable]
	[do]
#enddef

# used to add images/items to hexes
#define PUT_IMG IMG X Y
	[item]
		x={X}
		y={Y}
		image={IMG}
	[/item]
#enddef

# create a unit with full upkeep
#define UNIT_ TYPE DESC SIDE X Y
	[unit]
		type={TYPE}
		description={DESC}
		user_description= _ "{DESC}"
		side={SIDE}
		upkeep=full
		x={X}
		y={Y}
	[/unit]
#enddef

# create a unit with no upkeep
#define FREE_UNIT TYPE DESC SIDE X Y
	[unit]
		type={TYPE}
		description={DESC}
		user_description= _ "{DESC}"
		side={SIDE}
		upkeep=free
		x={X}
		y={Y}
	[/unit]
#enddef

# create a unit with full upkeep and traits
#define UNIT_T TYPE DESC SIDE X Y

{RANDOM_TRAIT_UNIT ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}

#enddef

# MACROS to implement random traits
# creates one unit with full upkeep and 2 random traits

#define RANDOM_TRAIT_UNIT TYPE DESC SIDE X Y
{RANDOM 1..6}

 {TRAIT_IF 1 (quick,resilient) ({TRAIT_QUICK}) ({TRAIT_RESILIENT}) ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}
 {TRAIT_IF 2 (strong,resilient) ({TRAIT_STRONG}) ({TRAIT_RESILIENT}) ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}
 {TRAIT_IF 3 (intelligent,resilient) ({TRAIT_INTELLIGENT}) ({TRAIT_RESILIENT}) ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}
 {TRAIT_IF 4 (strong,quick) ({TRAIT_STRONG}) ({TRAIT_QUICK}) ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}
 {TRAIT_IF 5 (strong,intelligent) ({TRAIT_STRONG}) ({TRAIT_INTELLIGENT}) ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}
 {TRAIT_IF 6 (quick,intelligent) ({TRAIT_QUICK}) ({TRAIT_INTELLIGENT}) ({TYPE}) ({DESC}) ({SIDE}) ({X}) ({Y})}
#enddef


#define TRAIT_IF NUMBER TRAITDESC TRAIT1 TRAIT2 TYPE DESC SIDE X Y
[if]
	[variable]
	name=random
	equals={NUMBER}
	[/variable]
	[then]
		[unit]
		side={SIDE}
		type={TYPE}
		description={DESC}
		user_description= _ "{DESC}"
		upkeep=full
		x={X}
		y={Y}
		[modifications]
			{TRAIT1}
			{TRAIT2}
		[/modifications]
		[/unit]
	[/then]
[/if]
#enddef
