[unit]
    #textdomain wesnoth-utbs
    id=Dust Devil
    name= _ "Dust Devil"
    race=monster
    image=dust-devil.png
    hitpoints=28
    movement_type=undeadfly
    [resistance]
        blade=70
        pierce=50
        impact=50
        fire=120
        cold=150
        arcane=140
    [/resistance]
    movement=8
    experience=28
    level=1
    alignment=neutral
    advanceto=null
    cost=20
    usage=scout
    unit_description= _ "A swirl of dust and desert sand, quick as a wind, impossible to spot when resting and as dangerous as sand storm when riled."
    get_hit_sound=groan.wav
    [attack]
        name=twister
        description= _ "twister"
        icon=attacks/claws-flaming.png
        type=arcane
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        range=melee
        damage=5
        number=2
    [/attack]
    [attack]
        name=sand storm
        description= _ "sand storm"
        icon=attacks/sand-storm.png
        type=impact
        [specials]
            {WEAPON_SPECIAL_SWARM}
        [/specials]
        range=ranged
        damage=3
        number=7
    [/attack]
    [abilities]
      [regenerate]
        [filter_self]
          [filter_location]
            terrain=Dd,Hd,Rd,Re
          [/filter_location]
        [/filter_self]
        value=6
        poison=cured
        affect_self="yes"
        name = _ "dust recuperation"
        description= _ "Dust Recuperation:
The unit will heal itself 6 HP per turn on sand or dirt terrain. If it is poisoned, it will remove the poison instead of healing."
      [/regenerate]
    [/abilities]
    [advancement]
        id=Dust Devil
        max_times=4
        description= _ "a stronger Dust Devil"
        [effect]
            apply_to=attack
            range=melee
            increase_damage=1
        [/effect]
        [effect]
            apply_to=hitpoints
            increase_total=2
        [/effect]
        [effect]
            apply_to=max_experience
            increase=12
        [/effect]
    [/advancement]
    [advancement]
        id=Dust Devil
        max_times=2
        description= _ "a taller Dust Devil"
        [effect]
            apply_to=attack
            range=ranged
            increase_attacks=1
        [/effect]
        [effect]
            apply_to=max_experience
            increase=8
        [/effect]
    [/advancement]
    [advancement]
        id=Dust Devil
        description= _ "a fully-healed Dust Devil"
        [effect]
            apply_to=hitpoints
            heal_full=yes
        [/effect]
    [/advancement]
    [attack_anim]
        [attack_filter]
            name=sand storm
        [/attack_filter]
        [if]
            direction=sw,s,se
            [missile_frame]
                offset=1.0
                begin=-200
                end=120
                halo="projectiles/sand-storm-1.png:40,projectiles/sand-storm-2.png:40,projectiles/sand-storm-3.png:40,projectiles/sand-storm-4.png:40,projectiles/sand-storm-5.png:40,projectiles/sand-storm-6.png:40,projectiles/sand-storm-7.png:40,projectiles/sand-storm-8.png:40"
            [/missile_frame]
        [/if]
        [else]
            direction=ne,n,nw
            [missile_frame]
                offset=1.0
                begin=-200
                end=120
                halo="projectiles/sand-storm-1.png~FL(vert):40,projectiles/sand-storm-2.png~FL(vert):40,projectiles/sand-storm-3.png~FL(vert):40,projectiles/sand-storm-4.png~FL(vert):40,projectiles/sand-storm-5.png~FL(vert):40,projectiles/sand-storm-6.png~FL(vert):40,projectiles/sand-storm-7.png~FL(vert):40,projectiles/sand-storm-8.png~FL(vert):40"
            [/missile_frame]
        [/else]
        [if]
            hits=yes
            [frame]
                begin=-200
                end=100
                sound=magic-faeriefire.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-200
                end=100
                sound=magic-faeriefire-miss.ogg
            [/frame]
        [/else]
    [/attack_anim]
    [attack_anim]
        [attack_filter]
            name=twister
        [/attack_filter]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=100
                sound=bite.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=100
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
    [/attack_anim]
[/unit]
