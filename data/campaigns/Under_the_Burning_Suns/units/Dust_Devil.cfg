[unit]
    #textdomain wesnoth-utbs
    id=Dust Devil
    name= _ "Dust Devil"
    race=monster
    image=dust-devil.png
    hitpoints=30
    movement_type=undeadfly
    [resistance]
        blade=40
        pierce=40
        impact=40
        fire=140
        cold=140
        arcane=140
    [/resistance]
    movement=10
    experience=12
    level=1
    alignment=neutral
    advanceto=null
    cost=20
    usage=scout
    unit_description= _ "A swirl of dust and desert sand, quick as a wind, impossible to spot when resting and as dangerous as sand storm when riled."
    get_hit_sound=groan.wav
    [attack]
        name=twister
        description= _ "twister"
        icon=attacks/claws-flaming.png
        type=arcane
        [specials]
            {WEAPON_SPECIAL_SLOW}
        [/specials]
        range=melee
        damage=3
        number=1
    [/attack]
    [attack]
        name=sand storm
        description= _ "sand storm"
        icon=attacks/sand-storm.png
        type=impact
        [specials]
            {WEAPON_SPECIAL_MARKSMAN}
        [/specials]
        range=ranged
        damage=3
        number=8
    [/attack]
    [advancement]
        id=Dust Devil
        max_times=9
        [effect]
            apply_to=attack
            range=melee
            increase_attacks=1
        [/effect]
        [effect]
            apply_to=attack
            range=ranged
            increase_attacks=1
        [/effect]
        [effect]
            apply_to=hitpoints
            increase_total=4
            heal_full=yes
        [/effect]
        [effect]
            apply_to=max_experience
            increase=4
        [/effect]
    [/advancement]
    [attack_anim]
        [attack_filter]
            name=sand storm
        [/attack_filter]
        [if]
            direction=sw,s,se
            [missile_frame]
                offset=1.0
                begin=-200
                end=120
                halo="projectiles/sand-storm-1.png:40,projectiles/sand-storm-2.png:40,projectiles/sand-storm-3.png:40,projectiles/sand-storm-4.png:40,projectiles/sand-storm-5.png:40,projectiles/sand-storm-6.png:40,projectiles/sand-storm-7.png:40,projectiles/sand-storm-8.png:40"
            [/missile_frame]
        [/if]
        [else]
            direction=ne,n,nw
            [missile_frame]
                offset=1.0
                begin=-200
                end=120
                halo="projectiles/sand-storm-1.png~FL(vert):40,projectiles/sand-storm-2.png~FL(vert):40,projectiles/sand-storm-3.png~FL(vert):40,projectiles/sand-storm-4.png~FL(vert):40,projectiles/sand-storm-5.png~FL(vert):40,projectiles/sand-storm-6.png~FL(vert):40,projectiles/sand-storm-7.png~FL(vert):40,projectiles/sand-storm-8.png~FL(vert):40"
            [/missile_frame]
        [/else]
        [if]
            hits=yes
            [frame]
                begin=-200
                end=100
                sound=magic-faeriefire.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-200
                end=100
                sound=magic-faeriefire-miss.ogg
            [/frame]
        [/else]
    [/attack_anim]
    [attack_anim]
        [attack_filter]
            name=twister
        [/attack_filter]
        {FRAME_ON_SLOW (
        [frame]
            begin=-150
            end=-100
            sound=slowed.wav
        [/frame]
        )}
        [if]
            hits=yes
            [frame]
                begin=-100
                end=100
                sound=bite.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=100
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
    [/attack_anim]
[/unit]
