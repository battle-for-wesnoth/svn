#textdomain wesnoth-units
[unit_type]
    id=Drake Fighter
    name= _ "Drake Fighter"
    race=drake
    image="units/drakes/fighter.png"
    ellipse="misc/ellipse"
    profile="portraits/drakes/fighter.png"
    {MAGENTA_IS_THE_TEAM_COLOR}
    hitpoints=39
    movement_type=drakefly
    movement=6
    experience=42
    level=1
    alignment=lawful
    advances_to=Drake Warrior
    undead_variation=drake
    cost=17
    usage=fighter
    description= _ "A Fighter's only purpose in drake society is to fight and die for his tribe. Not being particularly swift, nor possessed of a strong inner flame, he is constantly struggling to prove his worth to the more respected castes by sheer physical prowess. Sometimes, he succeeds."
    die_sound=drake-die.ogg
    {DEFENSE_ANIM "units/drakes/fighter-defend-2.png" "units/drakes/fighter-defend-1.png" {SOUND_LIST:DRAKE_HIT} }
    [portrait]
        size=400
        side="left"
        mirror="false"
        image="portraits/drakes/transparent/fighter.png"
    [/portrait]
    [portrait]
        size=400
        side="right"
        mirror="true"
        image="portraits/drakes/transparent/fighter.png"
    [/portrait]
# default standing anim
    [standing_anim]
        [frame]
	    image="units/drakes/fighter.png"
        [/frame]
    [/standing_anim]
# flying terrain anims
    [standing_anim]
        terrain_type=Wo,Ww,Ww^Vm,Chs,Chw,Ss
        start_time=0
        layer=60
        [frame]
            duration=100
            image="units/drakes/fighter-fly-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-5.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-3-upstroke.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-2-upstroke.png"
        [/frame]
    [/standing_anim]
    [pre_movement_anim]
	#take off, only do it when we're not already flying
        terrain_type=!,Wo,Ww,Ww^Vm,Chs,Chw,Ss
        [frame]
            duration=300
            image="units/drakes/fighter-fire-inhale-3.png"
	    text="take-off"
        [/frame]
    [/pre_movement_anim]
    [post_movement_anim]
	#landing, only do it when we're not already flying
        terrain_type=!,Wo,Ww,Ww^Vm,Chs,Chw,Ss
        [frame]
            duration=300
            image="units/drakes/fighter-fire-inhale-3.png"
	    text="landing"
        [/frame]
    [/post_movement_anim]
    [movement_anim]
        start_time=0
        [frame]
            duration=100
            image="units/drakes/fighter-fly-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-5.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-3-upstroke.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fly-2-upstroke.png"
        [/frame]
    [/movement_anim]
    [attack]
        name=war blade
        description=_"war blade"
        type=blade
        range=melee
        damage=7
        number=3
        icon=attacks/scimitar.png
    [/attack]
    [attack]
        name=fire breath
        description=_"fire breath"
        icon=attacks/fire-breath-drake.png
        type=fire
        range=ranged
        damage=3
        number=3
    [/attack]
    [draw_weapon_anim]
	#landing, only do it when we're not already flying
        terrain_type=Wo,Ww,Ww^Vm,Chs,Chw,Ss
        [frame]
            duration=300
            image="units/drakes/fighter-fire-inhale-3.png"
	    text="pre-fight"
        [/frame]
    [/draw_weapon_anim]
    [sheath_weapon_anim]
	#landing, only do it when we're not already flying
        terrain_type=Wo,Ww,Ww^Vm,Chs,Chw,Ss
        [frame]
            duration=300
            image="units/drakes/fighter-fire-inhale-3.png"
	    text="post-fight"
        [/frame]
    [/sheath_weapon_anim]
    [attack_anim]
        [filter_attack]
            name=fire breath
        [/filter_attack]
        direction=se,sw
        {MISSILE_FRAME_FIRE_BREATH_S_DIAGONAL 35,40}
        start_time=-900
        [if]
            hits=no

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big.ogg
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fire breath
        [/filter_attack]
        direction=ne,nw
        {MISSILE_FRAME_FIRE_BREATH_N_DIAGONAL 35,-20}
        start_time=-900
        [if]
            hits=no

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big.ogg
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-se-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fire breath
        [/filter_attack]
        direction=s
        {MISSILE_FRAME_FIRE_BREATH_S 8,50}
        start_time=-900
        [if]
            hits=no

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big.ogg
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fire breath
        [/filter_attack]
        direction=n
        {MISSILE_FRAME_FIRE_BREATH_N 8,-50}
        start_time=-900
        [if]
            hits=no

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes

            [frame]
                duration=20
                image="units/drakes/fighter.png"
                sound=flame-big.ogg
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-4.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-inhale-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-3.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-fire-s-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=war blade
        [/filter_attack]
        offset=0.0~0.2,0.2~0.7,0.7~0.2,0.2~0.0
        start_time=-400
        [frame]
            duration=100
            image="units/drakes/fighter-melee-1.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-melee-2.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-melee-3.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                duration=100
                image="units/drakes/fighter-melee-4.png"
                sound={SOUND_LIST:SWORD_SWISH}
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=100
                image="units/drakes/fighter-melee-4.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/drakes/fighter-melee-5.png"
        [/frame]
        [frame]
            duration=100
            image="units/drakes/fighter-melee-6.png"
        [/frame]
    [/attack_anim]
[/unit_type]
