#textdomain wesnoth-units
[unit]
    id=Troll Rocklobber
    name= _ "Troll Rocklobber"
    race=troll
    image="units/trolls/lobber.png"
    profile=portraits/James_Woo/troll.png
    {MAGENTA_IS_THE_TEAM_COLOR}
    hitpoints=49
    movement_type=largefoot
    movement=5
    experience=100
    level=2
    alignment=chaotic
    advanceto=null
    {AMLA_DEFAULT}
    undead_variation=troll
    cost=29
    usage=fighter
    unit_description= _ "The thought of throwing a boulder in combat has certainly occurred to many trolls, and some have taken to them as a weapon of choice. Because such stones are not always easy to find, Rocklobbers have taken to carrying them in sacks slung over their shoulders. The same leather out of which the sack is formed is easily adapted to a crude sling.

Special Notes: though unwieldy, a stone thrown by one of these monsters is much more deadly than any arrow, if it manages to hit."+{SPECIAL_NOTES_REGENERATES}
    die_sound={SOUND_LIST:TROLL_DIE}
    [abilities]
        {ABILITY_REGENERATES}
    [/abilities]
    [attack]
        name=fist
        description=_"fist"
        icon=attacks/fist-troll.png
        type=impact
        range=melee
        damage=10
        number=2
    [/attack]
    [attack]
        name=sling
        description=_"sling"
        type=impact
        range=ranged
        damage=17
        number=1
    [/attack]
    {DEFENSE_ANIM "units/trolls/lobber-defend.png" "units/trolls/lobber.png" {SOUND_LIST:TROLL_HIT} }
    [attack_anim]
        [attack_filter]
            name=sling
        [/attack_filter]
        [missile_frame]
            begin=-400
            end=0
            image="projectiles/stone.png"
            image_diagonal="projectiles/stone.png"
        [/missile_frame]
        start_time=-1000
        [if]
            hits=yes
            [frame]
                duration=400
                image="units/trolls/lobber.png"
                sound=sling-big.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=400
                image="units/trolls/lobber.png"
                sound=sling-big-miss.ogg
            [/frame]
        [/else]
        [frame]
            duration=200
            image="units/trolls/lobber-attack-ranged1.png"
        [/frame]
        [frame]
            duration=200
            image="units/trolls/lobber-attack-ranged2.png"
        [/frame]
        [frame]
            duration=100
            image="units/trolls/lobber-defend.png"
        [/frame]
        [frame]
            duration=100
            image="units/trolls/lobber.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [attack_filter]
            name=fist
        [/attack_filter]
        start_time=-200
        [frame]
            duration=50
            image="units/trolls/lobber.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                duration=250
                image="units/trolls/lobber-attack-melee.png"
                sound=fist.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=250
                image="units/trolls/lobber-attack-melee.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/trolls/lobber.png"
        [/frame]
    [/attack_anim]
[/unit]
