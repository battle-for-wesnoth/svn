# This file contains a WIP set of terrain graphics macros, intended to be as
# short and simple as possible.

#define NEW:BASE TERRAIN IMAGESTEM
    # Places {IMAGESTEM}[1-11].png as base tiles. Assumes 72x72 hex-shaped
    # images.

    [terrain_graphics]
        map="
, *
* , *
, 1
* , *
, *"

        [tile]
            pos=1
            type={TERRAIN}
            set_no_flag=base
        [/tile]

        [image]
            name={IMAGESTEM}@V.png
            variations=";2;3;4;5;6;7;8;9;10;11"
            layer=-1000
            base=90,144
            center=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define NEW:FOREST TERRAIN ADJACENT IMAGESTEM
    # This assumes centered images. Places the images named
    # {IMAGESTEM}-small[1-11].png on all {TERRAIN} adjacent to {ADJACENT}, and
    # {IMAGESTEM}[1-11].png on all others.

    [terrain_graphics]
            map="
,  2
*,   *
,  1
*,   *
,  *"
        [tile]
            pos=1
            type={TERRAIN}
            no_flag=forest
            set_flag=forest,small_forest
        [/tile]

        [tile]
            pos=2
            type={ADJACENT}
        [/tile]

        rotations=n,ne,se,s,sw,nw

        [image]
            name={IMAGESTEM}-small@V.png
            variations=";2;3;4;5;6;7;8;9;10;11"
            layer=0
            base=90,144
            center=90,144
        [/image]
    [/terrain_graphics]

    [terrain_graphics]
            map="
,  *
*,   *
,  1
*,   *
,  *"
        [tile]
            pos=1
            type={TERRAIN}
            set_no_flag=forest
        [/tile]

        [image]
            name={IMAGESTEM}@V.png
            variations=";2;3;4;5;6;7;8;9;10;11"
            layer=0
            base=90,144
            center=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define NEW:WALL TERRAIN ADJACENT IMAGESTEM
    [terrain_graphics]
        map="
2
,  3
1"
        [tile]
            pos=1
            type={TERRAIN}
            set_no_flag=castle-@R0
        [/tile]
        [tile]
            pos=2
            type={ADJACENT}
            set_no_flag=castle-@R2
        [/tile]
        [tile]
            pos=3
            type={ADJACENT}
            set_no_flag=castle-@R4
        [/tile]

        rotations=tr,r,br,bl,l,tl

        [image]
            layer=0
            base=54,72
            name={IMAGESTEM}@V-convex-@R0.png
            variations=";2;3;4;5"
        [/image]
    [/terrain_graphics]

    [terrain_graphics]
        map="
2
,  3
1"
        [tile]
            pos=1
            type={ADJACENT}
            set_no_flag=castle-@R0
        [/tile]
        [tile]
            pos=2
            type={TERRAIN}
            set_no_flag=castle-@R2
        [/tile]
        [tile]
            pos=3
            type={TERRAIN}
            set_no_flag=castle-@R4
        [/tile]

        rotations=tr,r,br,bl,l,tl

        [image]
            layer=0
            base=54,72
            name={IMAGESTEM}@V-concave-@R0.png
            variations=";2;3;4;5"
        [/image]
    [/terrain_graphics]
#enddef

#define NEW:WALL2 TERRAIN ADJACENT1 ADJACENT2 IMAGESTEM
    {NEW:WALL {TERRAIN} {ADJACENT1} {IMAGESTEM}}

    [terrain_graphics]
        map="
2
,  3
1"
        [tile]
            pos=1
            type={TERRAIN}
            set_no_flag=castle-@R0
        [/tile]
        [tile]
            pos=2
            type={ADJACENT1}
            set_no_flag=castle-@R2
        [/tile]
        [tile]
            pos=3
            type={ADJACENT2}
            set_no_flag=castle-@R4
        [/tile]

        rotations=tr,r,br,bl,l,tl

        [image]
            layer=0
            base=54,72
            name={IMAGESTEM}@V-cw-@R0.png
            variations=";2;3;4;5"
        [/image]
    [/terrain_graphics]

    [terrain_graphics]
        map="
2
,  3
1"
        [tile]
            pos=1
            type={TERRAIN}
            set_no_flag=castle-@R0
        [/tile]
        [tile]
            pos=2
            type={ADJACENT2}
            set_no_flag=castle-@R2
        [/tile]
        [tile]
            pos=3
            type={ADJACENT1}
            set_no_flag=castle-@R4
        [/tile]

        rotations=tr,r,br,bl,l,tl

        [image]
            layer=0
            base=54,72
            name={IMAGESTEM}@V-ccw-@R0.png
            variations=";2;3;4;5"
        [/image]
    [/terrain_graphics]
#enddef

#define NEW:VILLAGE TERRAIN IMAGESTEM
    [terrain_graphics]
        map="
, *
* , *
, 1
* , *
, *"

        [tile]
            pos=1
            type={TERRAIN}
            set_no_flag=village
        [/tile]

        [image]
            name={IMAGESTEM}@V.png
            variations=";2;3;4"
            layer=0
            base=90,144
            center=90,144
        [/image]
    [/terrain_graphics]
#enddef