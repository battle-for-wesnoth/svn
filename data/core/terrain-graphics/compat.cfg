#textdomain wesnoth

#Backward compatibility file, these are not used in mainline, and an upgrade path through wmllint should be a good idea
# added in the 1.9 timeframe

#define VIMG BASE_STRING NAME_STRING
    [image]
        name={NAME_STRING}
        base={BASE_STRING}
    [/image]
#enddef

#define TERRAIN_BASE_DEFAULT IMAGESTEM
    [terrain_graphics]
        [tile]
            x=0
            y=0
            type=*
            [image]
                layer=-1000
                name={IMAGESTEM}
            [/image]
        [/tile]
        no_flag="base"
        set_flag="base"
        precedence=9999
    [/terrain_graphics]
#enddef



#define FLAG_IF_ADJACENT TERRAIN ADJACENT FLAG
    [terrain_graphics]
        map="
,  2
.,   .
,  1
.,   .
,  ."
        [tile]
            pos=1
            type={TERRAIN}
            set_flag={FLAG}
            no_flag={FLAG}
        [/tile]
        [tile]
            pos=2
            type={ADJACENT}
        [/tile]
        rotations=n,ne,se,s,sw,nw
    [/terrain_graphics]
#enddef

#define TERRAIN_BASE_FL TERRAIN_PATTERN IMAGESTEM FLAG LAYER
    {TERRAIN_BASE_LF ({TERRAIN_PATTERN}) {LAYER} {FLAG} {IMAGESTEM}}
#enddef

#define TERRAIN_BASE_PROB_FL TERRAIN_PATTERN IMAGESTEM PROB FLAG LAYER
    {TERRAIN_BASE_PLF ({TERRAIN_PATTERN}) {PROB} {LAYER} {FLAG} {IMAGESTEM}}
#enddef
#define TERRAIN_BASE_PROB TERRAIN_PATTERN IMAGESTEM PROB
    {TERRAIN_BASE_PLF ({TERRAIN_PATTERN}) {PROB} -1000 base {IMAGESTEM}}
#enddef
#define TERRAIN_BASE_PROB_OV TERRAIN_PATTERN IMAGESTEM PROB
    {OVERLAY_PL ({TERRAIN_PATTERN}) {PROB} -80 {IMAGESTEM}}
#enddef

#define BUILDING TERRAIN IMAGE_WML
    [terrain_graphics]
        [tile]
            x=0
            y=0
            type={TERRAIN}
            {IMAGE_WML}
        [/tile]
        set_flag=building-{TERRAIN}
        no_flag=building-{TERRAIN}
    [/terrain_graphics]
#enddef

#define BUILDING_PROBABILITY TERRAIN IMAGE_WML PROB
    [terrain_graphics]
        [tile]
            x=0
            y=0
            type={TERRAIN}
            {IMAGE_WML}
        [/tile]
        probability={PROB}
        set_flag=building-{TERRAIN}
        no_flag=building-{TERRAIN}
    [/terrain_graphics]
#enddef

#define SIMPLE_FOREST_TERRAIN TERRAINLIST ADJACENT IMAGESTEM
    {OVERLAY_RESTRICTED_RANDOM {TERRAINLIST} {ADJACENT}  {IMAGESTEM}-small}
    {OVERLAY_RANDOM            {TERRAINLIST}             {IMAGESTEM}}
#enddef



#define SIMPLE_OVERLAY_TERRAIN TERRAINLIST RESTRICTING IMAGESTEM
    {OVERLAY_RESTRICTED3_P   ({TERRAINLIST})  ({RESTRICTING})  25  {IMAGESTEM}-small-4}
    {OVERLAY_RESTRICTED3_P   ({TERRAINLIST})  ({RESTRICTING})  33  {IMAGESTEM}-small-3}
    {OVERLAY_RESTRICTED3_P   ({TERRAINLIST})  ({RESTRICTING})  50  {IMAGESTEM}-small-2}
    {OVERLAY_RESTRICTED3     ({TERRAINLIST})  ({RESTRICTING})      {IMAGESTEM}-small}
    {OVERLAY_ROTATION_RESTRICTED2  ({TERRAINLIST})  ({RESTRICTING})      {IMAGESTEM}}
    {OVERLAY_RESTRICTED2_P   ({TERRAINLIST})  ({RESTRICTING})  25  {IMAGESTEM}-small-4}
    {OVERLAY_RESTRICTED2_P   ({TERRAINLIST})  ({RESTRICTING})  33  {IMAGESTEM}-small-3}
    {OVERLAY_RESTRICTED2_P   ({TERRAINLIST})  ({RESTRICTING})  50  {IMAGESTEM}-small-2}
    {OVERLAY_RESTRICTED2     ({TERRAINLIST})  ({RESTRICTING})      {IMAGESTEM}-small}
    {OVERLAY_ROTATION_RESTRICTED   ({TERRAINLIST})  ({RESTRICTING})      {IMAGESTEM}}
    {OVERLAY_RESTRICTED_P    ({TERRAINLIST})  ({RESTRICTING})  25  {IMAGESTEM}-small-4}
    {OVERLAY_RESTRICTED_P    ({TERRAINLIST})  ({RESTRICTING})  33  {IMAGESTEM}-small-3}
    {OVERLAY_RESTRICTED_P    ({TERRAINLIST})  ({RESTRICTING})  50  {IMAGESTEM}-small-2}
    {OVERLAY_RESTRICTED      ({TERRAINLIST})  ({RESTRICTING})      {IMAGESTEM}-small}
    {OVERLAY_P               ({TERRAINLIST})                   16  {IMAGESTEM}-6}
    {OVERLAY_P               ({TERRAINLIST})                   20  {IMAGESTEM}-5}
    {OVERLAY_P               ({TERRAINLIST})                   25  {IMAGESTEM}-4}
    {OVERLAY_P               ({TERRAINLIST})                   33  {IMAGESTEM}-3}
    {OVERLAY_P               ({TERRAINLIST})                   50  {IMAGESTEM}-2}
    {OVERLAY                 ({TERRAINLIST})                       {IMAGESTEM}}
#enddef

#-----------------------------------------------------------------
# Forest<->Castle|Encampment special cases
#-----------------------------------------------------------------
#define FORESTADJCASTLEA FOREST_ID ID PROB TILE_IMAGE
    [terrain_graphics]
        map="
,  1
*,   1
,  2
*,   *
,  *"

        [tile]
            pos=1
            type={ID}
        [/tile]

        [tile]
            pos=2
            type={FOREST_ID}
            no_flag="overlay"
            set_flag="overlay"
        [/tile]

        probability={PROB}
        rotations=n,ne,se,s,sw,nw

        [image]
            name={TILE_IMAGE}
            base=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define FORESTADJCASTLES FOREST_ID ID PROB TILE_IMAGE
    [terrain_graphics]
        map="
,  1
*,   *
,  2
*,   1
,  *"

        [tile]
            pos=1
            type={ID}
        [/tile]

        [tile]
            pos=2
            type={FOREST_ID}
            no_flag="overlay"
            set_flag="overlay"
        [/tile]

        probability={PROB}
        rotations=n,ne,se,s,sw,nw

        [image]
            name={TILE_IMAGE}
            base=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define FORESTADJCASTLEO FOREST_ID ID PROB TILE_IMAGE
    [terrain_graphics]
        map="
,  1
*,   *
,  2
*,   *
,  1"

        [tile]
            pos=1
            type={ID}
        [/tile]

        [tile]
            pos=2
            type={FOREST_ID}
            no_flag="overlay"
            set_flag="overlay"
        [/tile]

        probability={PROB}
        rotations=n,ne,se,s,sw,nw

        [image]
            name={TILE_IMAGE}
            base=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define FORESTADJCASTLE FOREST_ID ID PROB TILE_IMAGE
    [terrain_graphics]
        map="
,  1
*,   *
,  2
*,   *
,  *"

        [tile]
            pos=1
            type={ID}
        [/tile]

        [tile]
            pos=2
            type={FOREST_ID}
            no_flag="overlay"
            set_flag="overlay"
        [/tile]

        probability={PROB}
        rotations=n,ne,se,s,sw,nw

        [image]
            name={TILE_IMAGE}-@R0
            base=90,144
        [/image]
    [/terrain_graphics]
#enddef

#-----------------------------------------------------------------
# Use a smaller tile when next to:
# Shallow and deep Water, mountain, desert hill & mountain,
# swamp and villages
#-----------------------------------------------------------------
#define FORESTADJ FOREST_ID ID PROB TILE_IMAGE
    [terrain_graphics]
        map="
,  1
*,   *
,  2
*,   *
,  *"

        [tile]
            pos=1
            type={ID}
        [/tile]

        [tile]
            pos=2
            type={FOREST_ID}
            no_flag="overlay"
            set_flag="overlay"
        [/tile]

        probability={PROB}
        rotations=n,ne,se,s,sw,nw

        [image]
            name={TILE_IMAGE}
            base=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define MOUNTAINADJCASTLEA FOREST_ID ID PROB TILE_IMAGE
    [terrain_graphics]
        map="
,  1
*,   1
,  2
*,   *
,  *"

        [tile]
            pos=1
            type={ID}
        [/tile]

        [tile]
            pos=2
            type={FOREST_ID}
            no_flag="overlay"
            set_flag="overlay"
        [/tile]

        probability={PROB}
        rotations=n,ne,se,s,sw,nw

        [image]
            name={TILE_IMAGE}-@R0-@R1
            base=90,144
        [/image]
    [/terrain_graphics]
#enddef

#define TERRAIN_BASE_OV TERRAIN_PATTERN IMAGESTEM
    {OVERLAY_L ({TERRAIN_PATTERN}) -80 {IMAGESTEM}}
#enddef
