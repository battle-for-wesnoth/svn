#textdomain wesnoth

#Backward compatibility file, these are not used in mainline, and an upgrade path through wmllint should be a good idea
# added in the 1.9 timeframe

#define VIMG BASE_STRING NAME_STRING
    [image]
        name={NAME_STRING}
        base={BASE_STRING}
    [/image]
#enddef

#define TERRAIN_BASE_DEFAULT IMAGESTEM
    [terrain_graphics]
        [tile]
            x=0
            y=0
            type=*
            [image]
                layer=-1000
                name={IMAGESTEM}
            [/image]
        [/tile]
        no_flag="base"
        set_flag="base"
        precedence=9999
    [/terrain_graphics]
#enddef



#define FLAG_IF_ADJACENT TERRAIN ADJACENT FLAG
    [terrain_graphics]
        map="
,  2
.,   .
,  1
.,   .
,  ."
        [tile]
            pos=1
            type={TERRAIN}
            set_flag={FLAG}
            no_flag={FLAG}
        [/tile]
        [tile]
            pos=2
            type={ADJACENT}
        [/tile]
        rotations=n,ne,se,s,sw,nw
    [/terrain_graphics]
#enddef

#define TERRAIN_BASE_FL TERRAIN_PATTERN IMAGESTEM FLAG LAYER
    {TERRAIN_BASE_LF ({TERRAIN_PATTERN}) {LAYER} {FLAG} {IMAGESTEM}}
#enddef

#define TERRAIN_BASE_PROB_FL TERRAIN_PATTERN IMAGESTEM PROB FLAG LAYER
    {TERRAIN_BASE_PLF ({TERRAIN_PATTERN}) {PROB} {LAYER} {FLAG} {IMAGESTEM}}
#enddef
#define TERRAIN_BASE_PROB TERRAIN_PATTERN IMAGESTEM PROB
    {TERRAIN_BASE_PLF ({TERRAIN_PATTERN}) {PROB} -1000 base {IMAGESTEM}}
#enddef
#define TERRAIN_BASE_PROB_OV TERRAIN_PATTERN IMAGESTEM PROB
    {OVERLAY_PL ({TERRAIN_PATTERN}) {PROB} -80 {IMAGESTEM}}
#enddef

#define BUILDING TERRAIN IMAGE_WML
    [terrain_graphics]
        [tile]
            x=0
            y=0
            type={TERRAIN}
            {IMAGE_WML}
        [/tile]
        set_flag=building-{TERRAIN}
        no_flag=building-{TERRAIN}
    [/terrain_graphics]
#enddef

#define BUILDING_PROBABILITY TERRAIN IMAGE_WML PROB
    [terrain_graphics]
        [tile]
            x=0
            y=0
            type={TERRAIN}
            {IMAGE_WML}
        [/tile]
        probability={PROB}
        set_flag=building-{TERRAIN}
        no_flag=building-{TERRAIN}
    [/terrain_graphics]
#enddef

#define SIMPLE_FOREST_TERRAIN TERRAINLIST ADJACENT IMAGESTEM
    {OVERLAY_RESTRICTED_RANDOM {TERRAINLIST} {ADJACENT}  {IMAGESTEM}-small}
    {OVERLAY_RANDOM            {TERRAINLIST}             {IMAGESTEM}}
#enddef
