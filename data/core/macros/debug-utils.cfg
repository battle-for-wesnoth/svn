#textdomain wesnoth
# This file contains macros useful for debugging and testing purposes.

#define DEBUG_MSG MESSAGE_TEXT
    # Emit a debug message.  Meant to be overridden with no-op definition
    # of the same name for production use.
    [message]
        speaker=narrator
        message={MESSAGE_TEXT}
        image=wesnoth-icon.png
    [/message]
#enddef

#define TIMED_ACTIONS TITLE CONTENT_WML
    # Measure (in milliseconds) the time arbitrary event WML takes to
    # execute.
    #
    # Example:
    #! [event]
    #!     name=start
    #!
    #!     {TIME_ACTIONS "orc renaming" (
    #!         {MODIFY_UNIT race=orc name ( _ "Azir")}
    #!     )}
    #! [/event]
    {VARIABLE_OP TIME_ACTIONS_time_begin time stamp}

    {CONTENT_WML}

    {VARIABLE_OP TIME_ACTIONS_time_end time stamp}

    [message]
        speaker=narrator
        caption={TITLE}
        message="$($TIME_ACTIONS_time_end - $TIME_ACTIONS_time_begin) milliseconds."
    [/message]

    {CLEAR_VARIABLE TIME_ACTIONS_time_begin,TIME_ACTIONS_time_end}
#enddef