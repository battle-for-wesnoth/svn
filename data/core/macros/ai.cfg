#define AI_ASPECT ID FACETID VALUE
#macro to define a named facet of ai aspect
[aspect]
    id={ID}
    [facet]
        id={FACETID}
        value={VALUE}
    [/facet]
[/aspect]
#enddef

#define AI_ALWAYS_ASPECT ID VALUE
#macro to add aspect[ID].facet['always'] with value VALUE which is always active
{AI_ASPECT {ID} "always" {VALUE}}
#enddef

#define AI_ASPECT_FOR_TIME_OF_DAY ID FACETID TIMEOFDAY VALUE
#macro to define a facet of ai aspect[ID] which has an id of FACETID an is active during time of day TIMEOFDAY
[aspect]
     id={ID}
     [facet]
        id={FACETID}
        value={VALUE}
        time_of_day={TIMEOFDAY}
    [/facet]
 [/aspect]
#enddef

#define AI_NIGHT_ASPECT ID VALUE
#macro to add aspect[ID].facet['night'] with value VALUE which is active during the night
{AI_ASPECT_FOR_TIME_OF_DAY {ID} "night" "dusk,first_watch,second_watch" {VALUE} }
#enddef

#define AI_DAY_ASPECT ID VALUE
#macro to add aspect[ID].facet['day'] with value VALUE which is active during the night
{AI_ASPECT_FOR_TIME_OF_DAY {ID} "day" "dawn,morning,afternoon" {VALUE} }
#enddef


#define AI_NO_SCOUTS
#Macro to make an AI team not recruit scouts.
{AI_SIMPLE_ASPECT villages_per_scout 0}
#enddef


#define AI_CANDIDATE_ACTION_POISONING
        [candidate_action]
            engine=fai
            name=poisoner
            type=attack
            [filter]
                me="filter( input, 'me', filter(me.attacks,'att',filter(att.special,'spe',contains_string(spe,'poison'))))"
                target="filter( input, 'target', target.undead = 0 and target.hitpoints > 5 and index_of('poisoned',keys(target.states)) = -1)"
            [/filter]
            evaluation="{ai/formula/poisoner_eval.fai}"
            action="{ai/formula/poisoner_attack.fai}"
        [/candidate_action]
#enddef
